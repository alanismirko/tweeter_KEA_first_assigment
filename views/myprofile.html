% include("header", title="My profile")


  <section id="tweetModal" class="fixed z-10 hidden w-screen h-screen">
    <div class="absolute w-full h-full bg-black bg-opacity-50" onclick="toggleTweetModal()">

    </div>
    <div class="relative z-10 w-1/3 h-64 p-10 mx-auto mt-20 rounded-lg bg-slate-700">
      <span class="float-right text-2xl text-white cursor-pointer"><a onclick="toggleTweetModal()" href="#">&times;</a></span>   
      <h1 class="mb-1 text-xl text-white">Create a tweet</h1>
        <div class="error">
            % if error == "tweet_title":
            <p>Please enter longer title</p>
            % end

            % if error == "tweet_description":
                <p>Please enter longer description</p>
            % end
        </div>
        <form action="/create_tweet" method="post" >
          <div class="block">
            <input name="tweet_id" type="hidden" >
            <input class="w-full h-8 mb-5" name="tweet_title" type="text" placeholder="Title" value="{{ tweet_title or '' }}" >
            <input class="w-full h-8 mb-5" name="tweet_description" type="text" placeholder="Description" value="{{ tweet_description or ''}}">
          </div>    
            <button class="w-full py-2 mt-1 text-lg text-white bg-blue-300 rounded-full" >Create</button>
        </form>
      </div>
    </div>
  </section>





  <div id="all_tweets" class="w-2/4 border-x border-slate-200">
    <div class="p-4">
      <form onsubmit="return false">
        <input class="w-full h-12 px-4 rounded bg-slate-500 text-slate-200 placeholder:text-slate-200" 
        type="text" placeholder="What are you interested in ?">
      </form>
    </div>
    <div class="px-4 py-4 pt-0">
      <form class="relative flex p-4 border rounded border-blue" onsubmit="return false">
        <input class="w-full h-12 rounded outline-none text-slate-800" 
        type="text" placeholder="What is in your mind ?">
        <button class="absolute px-8 py-2 text-white bg-blue-500 rounded-full bottom-2 right-2">
          Voice it
        </button>
      </form>
    </div>
    <div class="mt-4">
      % for tweet in tweets:
      <div class="p-4 border-t border-slate-200">
        <div class="flex">
          <div class="w-full pl-4 text-white">
            

            <form action="/delete_tweet/<tweet_id_update>" method="post" >
              <input  class="hidden" name="tweet_id_update" type="text" value="{{tweet[0]}}">
              <div class="flex">
                <p class="">
                  {{tweet[5]}}
                </p>   
                <div class="">
                  <i class="ml-3 fa-solid fa-circle"></i>
                  Created: {{tweet[3]}} 
                </div>  
                <div  class="">
                  <i class="ml-3 fa-solid fa-circle"></i>
                  Updated: {{tweet[4]}}
                </div>
                <button id="delete_tweet" class="ml-10 cursor-pointer"><i  class="fa-solid fa-trash"></i></button>

              </div>  
              <div   class="hidden pt-2 font-bold tweet_id_update" >
                {{tweet[0]}}
              </div>
              <div id="tweet_title_update"  class="pt-2 font-bold " >
                {{tweet[2]}}
              </div>
              <div id="tweet_description_update" class="pt-2 ">
                {{tweet[1]}}
              </div>
            </form>
              
              
              <div class="error">
                % if error == "tweet_title":
                <p>Please enter longer title</p>
                % end
    
                % if error == "tweet_description":
                    <p>Please enter longer description</p>
                % end
            </div>
            <form id="update_form" class="hidden" action="/tweet_update/<tweet_id_update>" method="post"  > 
                <input class="hidden" name="tweet_created_at_update" type="text" value="{{tweet[3]}}">
                <input class="hidden"  name="tweet_updated_at_update" type="text" value="{{tweet[4]}}">
                <input  class="hidden" name="tweet_id_update" type="text" value="{{tweet[0]}}">
                <input  class="mt-2 font-bold text-white bg-black" name="tweet_title_update" type="text" value="{{tweet[2]}}">
                <input class="block mt-2 text-white bg-black" name="tweet_description_update" type="text" value="{{tweet[1]}}">
              <button type="submit" class="flex float-right mb-2">Save</button>
            </form>  
            <button id="discard_update" class="flex hidden float-right mb-2 mr-5 border-solid" onclick="updateTweet()">Discard</button>
            
            

            <div class="flex w-full gap-12 mt-4 text-lg">
                <button id="update_pencil" class="cursor-pointer" onclick="updateTweet()"><i class="fa-solid fa-pencil"></i>
                </button>
            </div>
          </div>
        </div>
      </div>
      % end           
    </div>
  </div>


  <div id="my_tweets"  class="hidden w-2/4 border-x border-slate-200">
    

  </div>
  


  <div class="w-1/4">
    <div class="fixed p-4">
      <h1 class="text-white">My tweets</h1>
    </div>
  </div>

  
</body>
</html>