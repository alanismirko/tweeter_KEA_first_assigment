% include("header", title="Tweeter")

  <div id="all_tweets" class="w-2/4 border-x border-slate-200">
    <div class="p-4">
      <form  action="/search_tweet" method="get">
        <input name="search_term" class="w-full h-12 px-4 rounded bg-slate-500 text-slate-200 placeholder:text-slate-200" 
        type="text" placeholder="What are you interested in ?">
      </form>
    </div>
    <div class="relative z-10 w-1/3 h-64 p-10 mx-auto mt-20 rounded-lg bg-slate-700">
      <div >
        % if error == "tweet_title":
        <p class="text-red">Please enter longer title</p>
        % end

        % if error == "tweet_description":
            <p  class="text-red">Please enter longer description</p>
        % end
    </div>
        <form action="/create_tweet" method="post" enctype="multipart/form-data" onsubmit="validate()">
          <div class="block">

            <input name="tweet_id" type="hidden" >
            <input class="w-full h-12 p-4 text-gray-800 rounded outline-none placeholder:text-gray-800"  name="tweet_title" type="text" placeholder="Title" value="{{ tweet_title or '' }}"  data-validate="str" data-min="2" data-max="100" >
            <input class="w-full h-12 p-4 text-gray-800 rounded outline-none placeholder:text-gray-800"  name="tweet_description" type="text" placeholder="Description" value="{{ tweet_description or ''}}"  data-validate="str" data-min="2" data-max="100">
            <label for="image_tweet">Select image:</label>
            <input type="file" id="image_tweet" name="image_tweet" accept="image/*">
          </div>    
            <button class="w-full py-2 mt-1 text-lg text-white bg-blue-300 rounded-full" >Create</button>
        </form>
      </div>
    <div class="mt-4">
      % for tweet in tweets:
      <div class="p-4 border-t border-slate-200">
        <div class="flex">
          <div class="w-full pl-4 text-white">
            

              <input  class="hidden" name="tweet_id_update" type="text" value="{{tweet[0]}}">
              <div class="flex">
                <p class="">
                  <form action="/user_profile" >
                    <input class="hidden w-full h-8 mb-5" name="user_profile_email" type="text" placeholder="Title" value="{{tweet[5]}}" >
                    <button type="submit">{{tweet[5]}}</button>
                  </form>
                </p>   
                <div class="">
                  <i class="ml-3 fa-solid fa-circle"></i>
                  Created: {{tweet[3]}} 
                </div>  
                <div  class="">
                  <i class="ml-3 fa-solid fa-circle"></i>
                  Updated: {{tweet[4]}}
                </div>

              </div>  
              <form action="/like" method="POST">
                <div   class="hidden pt-2 font-bold tweet_id_update" >
                  {{tweet[0]}}
                </div>
                <div id="tweet_title_update"  class="pt-2 font-bold " >
                  {{tweet[2]}}
                </div>
                <div id="tweet_description_update" class="pt-2 ">
                  {{tweet[1]}}
                </div>
                <div id="image_tweet_id" class="pt-2 ">
                    <img src="../images/{{tweet[6]}}">
                </div>
                <div class="flex w-full gap-12 mt-4 text-lg">
                    <i onclick="tweet_like()" class="fa-solid fa-thumbs-up"></i>
                    <p id="like">0</p>
              </div>
              </form>

              

          </div>
        </div>
      </div>
      % end           
    </div>
  </div>

  


  

  <div class="w-1/4">
    <div class="fixed p-4">
      <h1 class="text-white">My tweets</h1>
    </div>
  </div>

  
</body>
</html>